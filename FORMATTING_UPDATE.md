# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∫–∞–∑–æ–∫

## üéØ –¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π

–£–ª—É—á—à–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∫–∞–∑–æ–∫ –≤ Telegram –∏ —Å–¥–µ–ª–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –æ–∑–≤—É—á–∫–∏ –±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏.

## ‚úÖ –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞**: –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–∫–∞–∑–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —Å –Ω–∞—á–∞–ª–æ–º —Ç–µ–∫—Å—Ç–∞:
```
*–î–∂–µ—Ä–∏ –∏ –≤–æ–ª—à–µ–±–Ω—ã–π –≥—Ä–∏–±* –ñ–∏–ª–∞-–±—ã–ª–∞ –º–∞–ª–µ–Ω—å–∫–∞—è –º—ã—à–∫–∞ –î–∂–µ—Ä–∏...
```

**–†–µ—à–µ–Ω–∏–µ**: –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ–ø–µ—Ä—å –≤—ã–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:
```
*–î–∂–µ—Ä–∏ –∏ –≤–æ–ª—à–µ–±–Ω—ã–π –≥—Ä–∏–±*

–ñ–∏–ª–∞-–±—ã–ª–∞ –º–∞–ª–µ–Ω—å–∫–∞—è –º—ã—à–∫–∞ –î–∂–µ—Ä–∏...
```

### 2. –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –æ–∑–≤—É—á–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: –§–∞–π–ª—ã –æ–∑–≤—É—á–∫–∏ –∏–º–µ–ª–∏ —Å–ª—É—á–∞–π–Ω—ã–µ –∏–º–µ–Ω–∞ —Ç–∏–ø–∞ `tmp12345.mp3`

**–†–µ—à–µ–Ω–∏–µ**: –§–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –∏–º–µ–Ω—É—é—Ç—Å—è –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å–∫–∞–∑–∫–∏:
```
–î–∂–µ—Ä–∏_–∏_–≤–æ–ª—à–µ–±–Ω—ã–π_–≥—Ä–∏–±_abc123.mp3
```

### 3. –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏ –∫ –∞—É–¥–∏–æ

**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å–µ –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã –∏–º–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –ø–æ–¥–ø–∏—Å—å "üìñ –û–∑–≤—É—á–∫–∞ —Å–∫–∞–∑–∫–∏"

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–¥–ø–∏—Å—å —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–∫–∞–∑–∫–∏:
```
üìñ –î–∂–µ—Ä–∏ –∏ –≤–æ–ª—à–µ–±–Ω—ã–π –≥—Ä–∏–±
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **`src/utils/formatters.py`**:
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `extract_story_title()` –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞
   - –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `format_story_for_telegram()` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ —Ç–µ–∫—Å—Ç–∞

2. **`src/services/tts_service.py`**:
   - –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `synthesize_speech()` –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è —Å–∫–∞–∑–∫–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –Ω–∞–∑–≤–∞–Ω–∏—è —Å–∫–∞–∑–∫–∏

3. **`src/bot/handlers.py`**:
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `extract_story_title`
   - –û–±–Ω–æ–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ TTS –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è —Å–∫–∞–∑–∫–∏

### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- `extract_story_title(story_text)` - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏ –æ—á–∏—â–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–∫–∞–∑–∫–∏
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```
*–î–∂–µ—Ä–∏ –∏ –≤–æ–ª—à–µ–±–Ω—ã–π –≥—Ä–∏–±* –ñ–∏–ª–∞-–±—ã–ª–∞ –º–∞–ª–µ–Ω—å–∫–∞—è –º—ã—à–∫–∞ –î–∂–µ—Ä–∏. –û–Ω–∞ –ª—é–±–∏–ª–∞ –≥—É–ª—è—Ç—å –ø–æ –ª–µ—Å—É...
üìñ –û–∑–≤—É—á–∫–∞ —Å–∫–∞–∑–∫–∏
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```
*–î–∂–µ—Ä–∏ –∏ –≤–æ–ª—à–µ–±–Ω—ã–π –≥—Ä–∏–±*

–ñ–∏–ª–∞-–±—ã–ª–∞ –º–∞–ª–µ–Ω—å–∫–∞—è –º—ã—à–∫–∞ –î–∂–µ—Ä–∏. –û–Ω–∞ –ª—é–±–∏–ª–∞ –≥—É–ª—è—Ç—å –ø–æ –ª–µ—Å—É...
üìñ –î–∂–µ—Ä–∏ –∏ –≤–æ–ª—à–µ–±–Ω—ã–π –≥—Ä–∏–±
```

### –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞:

–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `extract_story_title()` —Ç–µ–ø–µ—Ä—å:
1. –ò—â–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –Ω–∞—á–∞–ª–∞ —Å–∫–∞–∑–∫–∏ ("–∂–∏–ª–∏-–±—ã–ª–∏", "–∂–∏–ª–∞-–±—ã–ª–∞", "–≤ –æ–¥–Ω–æ–º", "–æ–¥–Ω–∞–∂–¥—ã", "–≤ –¥–∞–ª—ë–∫–æ–π" –∏ –¥—Ä.)
2. –ë–µ—Ä–µ—Ç —Ç–µ–∫—Å—Ç –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ –∫–∞–∫ –∑–∞–≥–æ–ª–æ–≤–æ–∫
3. –£–±–∏—Ä–∞–µ—Ç –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã –∏ –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –≤ –∫–æ–Ω—Ü–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞
4. –ï—Å–ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π, –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
5. –í –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ –±–µ—Ä–µ—Ç –ø–µ—Ä–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–≤—ã–µ —Å–ª–æ–≤–∞

### 6. –£–ª—É—á—à–µ–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –≤–µ–±-–≤–µ—Ä—Å–∏–µ–π Telegram

**–ü—Ä–æ–±–ª–µ–º–∞**: –í –≤–µ–±-–≤–µ—Ä—Å–∏–∏ Telegram –º–æ–≥—É—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–Ω–æ–ø–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:
- `one_time_keyboard=False` - –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –≤–∏–¥–∏–º–æ–π
- `input_field_placeholder` - –ø–æ–¥—Å–∫–∞–∑–∫–∞ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
- –£–ª—É—á—à–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ Telegram

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: –í —Ç–µ–∫—Å—Ç–µ –ø–æ—è–≤–ª—è–ª–∏—Å—å –¥–≤–æ–π–Ω—ã–µ —Ç–æ—á–∫–∏ –∏ –¥—Ä—É–≥–∏–µ –ª–∏—à–Ω–∏–µ –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è:
```
–í –æ–¥–Ω–æ–º –¥–∞–ª—ë–∫–æ–º –ª–µ—Å—É –∂–∏–ª–∏ –¥–≤–∞ –¥—Ä—É–≥–∞: –ú–∞—à–∞ –∏ –ü–µ—Ç—è.. –û–¥–Ω–∞–∂–¥—ã –æ–Ω–∏ —Ä–µ—à–∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –≤ –±–æ–ª—å—à–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –º–∏—Ä –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Å–≤–æ–µ–π –ª–µ—Å–Ω–æ–π –æ–ø—É—à–∫–∏..
```

**–†–µ—à–µ–Ω–∏–µ**: –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏:
- –£–¥–∞–ª–µ–Ω–∏–µ –¥–≤–æ–π–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è (.., !!, ??)
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–≥–æ—Ç–æ—á–∏—è (...)
- –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –ø–µ—Ä–µ–¥ –∑–Ω–∞–∫–∞–º–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–±–∏–µ–Ω–∏—è –Ω–∞ –∞–±–∑–∞—Ü—ã (–±–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ç–æ—á–µ–∫ –º–µ–∂–¥—É –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏)

### 5. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–æ –ª—é–±–∏–º–æ–≥–æ –≥–µ—Ä–æ—è"

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–æ –ª—é–±–∏–º–æ–≥–æ –≥–µ—Ä–æ—è" –∏ –≤–≤–æ–¥–µ –æ–ø–∏—Å–∞–Ω–∏—è –≥–µ—Ä–æ—è –≤—Å–µ–≥–¥–∞ –≤—ã–¥–∞–≤–∞–ª–æ—Å—å —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–æ–¥–æ–∂–¥–∏ –Ω–µ–º–Ω–æ–≥–æ." –∏–∑-–∑–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –∫—É–ª–¥–∞—É–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø–∏—Å–∞–Ω–∏—è –≥–µ—Ä–æ—è:
- –û–ø–∏—Å–∞–Ω–∏–µ –≥–µ—Ä–æ—è —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—É–ª–¥–∞—É–Ω–∞
- –ö—É–ª–¥–∞—É–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –æ–±—ã—á–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º —Å–∫–∞–∑–æ–∫
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–æ –ª—é–±–∏–º–æ–≥–æ –≥–µ—Ä–æ—è"
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏ –≤ —Ç–µ–∫—Å—Ç–µ —Å–∫–∞–∑–æ–∫

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏:
1. –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–π —Å–∫–∞–∑–∫–∏
2. –ó–∞–ø—Ä–æ—Å–µ –æ–∑–≤—É—á–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∫–∞–∑–∫–∏

–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

---

**–î–∞—Ç–∞**: $(date)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
